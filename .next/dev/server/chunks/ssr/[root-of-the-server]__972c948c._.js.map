{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Denis/Desktop/Learning/projectParai/projectparai/src/app/accueil/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n// Importation des icônes pour remplacer les images SVG externes (people.svg, gift.svg, etc.)\r\nimport { Users, Gift, Settings, Info, Clock, Send, LogOut } from 'lucide-react'; \r\n\r\n\r\n// Composant réutilisable pour les cartes simples\r\nconst StatCard = ({ icon: Icon, title, value, size = \"text-6xl\" }) => (\r\n    <div className=\"bg-gray-800 w-full h-80 flex flex-col justify-center items-center rounded-2xl border border-gray-700 shadow-2xl p-4\">\r\n        <Icon className=\"w-16 h-16 text-blue-400\"/>\r\n        <p className=\"text-white text-xl font-bold mt-5 text-center\">{title}</p>\r\n        <p className=\"text-white font-extrabold mt-5\" style={{ fontSize: '3rem' }}>{value}</p>\r\n    </div>\r\n);\r\n\r\nexport default function Accueil() {\r\n\r\n    // États\r\n    const [myclients, setMyclients] = useState(0);\r\n    const [psn, setPsn] = useState(0);\r\n    const [parrainage, setParrainage] = useState(\"Chargement...\");\r\n    const [timeLeft, setTimeLeft] = useState(0);\r\n\r\n    // 1. Vérification de l'authentification\r\n    useEffect(() => {\r\n       const token = localStorage.getItem(\"token\");\r\n       if (!token) {\r\n         // window.location.href = \"/login\";\r\n         console.log(\"Token manquant, redirection vers /login...\");\r\n       }\r\n     }, []);\r\n\r\n    // 2. Fetch du profil\r\n    useEffect(() => {\r\n        const fetchProfile = async () => {\r\n            const token = localStorage.getItem(\"token\");\r\n            if (!token) return;\r\n\r\n            try {\r\n                const res = await fetch(\"http://localhost:5000/getparain\", {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Authorization\": `Bearer ${token}`,\r\n                    },\r\n                });\r\n\r\n                const data = await res.json();\r\n                if (res.ok) {\r\n                    setMyclients(data.invited_count);\r\n                    setParrainage(data.referral_code);\r\n                    setPsn(data.psn_count);\r\n                } else {\r\n                    console.error(\"Erreur de l'API:\", data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Erreur de connexion:\", error);\r\n            }\r\n        };\r\n\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    // 3. Logique du Timer\r\n    useEffect(() => {\r\n        // Date cible pour le compte à rebours\r\n        const targetDate = new Date(\"2025-12-15T00:00:00\").getTime();\r\n\r\n        const interval = setInterval(() => {\r\n            const now = new Date().getTime();\r\n            const difference = targetDate - now;\r\n\r\n            if (difference <= 0) {\r\n                clearInterval(interval);\r\n                setTimeLeft(0);\r\n            } else {\r\n                setTimeLeft(difference);\r\n            }\r\n        }, 1000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\r\n    const hours = Math.floor((timeLeft / (1000 * 60 * 60)) % 24);\r\n    const minutes = Math.floor((timeLeft / (1000 * 60)) % 60);\r\n    const seconds = Math.floor((timeLeft / 1000) % 60);\r\n\r\n    // Fonction de déconnexion\r\n    const logout = () => {\r\n        window.localStorage.clear();\r\n        // window.location.href = \"/login\";\r\n        console.log(\"Déconnexion effectuée et redirection vers /login...\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {/*\r\n        FIX DU FOND NOIR : \r\n        1. min-h-screen est conservé.\r\n        2. justify-start est ajouté pour s'assurer que le contenu commence en haut.\r\n        3. pt-10 et pb-16 sont ajoutés pour garantir un espace blanc confortable en haut et surtout en bas.\r\n        */}\r\n        <div className=\"bg-white w-full min-h-screen flex justify-start items-center flex-col pt-10 pb-16\">\r\n            \r\n            {/* Conteneur des cartes (Responsive Grid)\r\n            Utilisation de 'grid' et de classes standard (gap-6) pour la réactivité sur tous les écrans.\r\n            max-w-6xl pour limiter la largeur sur les très grands écrans.\r\n            */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 w-full max-w-6xl px-4\">\r\n\r\n                {/* 1. Carte Personnes Invitées */}\r\n                <StatCard \r\n                    icon={Users}\r\n                    title=\"Personnes invités :\"\r\n                    value={myclients}\r\n                />\r\n\r\n                {/* 2. Carte Cartes PSN */}\r\n                <StatCard \r\n                    icon={Gift}\r\n                    title=\"Cartes PSN en € :\"\r\n                    value={psn}\r\n                />\r\n\r\n                {/* 3. Carte Mes informations */}\r\n                <div className=\"bg-gray-800 w-full h-80 flex flex-col justify-start items-center rounded-2xl border border-gray-700 shadow-2xl p-6\">\r\n                    <Settings className=\"w-16 h-16 text-blue-400 mt-4\"/>\r\n                    <p className=\"text-white text-xl font-bold mt-5\">Mes informations :</p>\r\n                    <p className=\"text-white text-md font-bold mt-5\">Mon code de parrainage :</p>\r\n                    <div className=\"mt-3 bg-stone-900 rounded-lg w-40 flex justify-center h-8 items-center px-4\">\r\n                        <p className=\"text-white font-bold tracking-wider\">{parrainage}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Deuxième rangée : Informations, Timer, Contact (Fusionnée en une seule carte réactive) \r\n            Prend toute la largeur disponible (col-span-full) sur mobile/tablette.\r\n            */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-6xl px-4 mt-6\">\r\n                <div className=\"\r\n                    col-span-1 md:col-span-3 \r\n                    bg-gray-800 w-full flex flex-col md:flex-row \r\n                    justify-around items-stretch \r\n                    rounded-2xl border border-gray-700 shadow-2xl p-6 gap-6\r\n                \">\r\n                    \r\n                    {/* Informations */}\r\n                    <div className=\"flex flex-col items-center p-3 flex-1 min-w-0\">\r\n                        <Info className=\"w-12 h-12 text-blue-400\"/>\r\n                        <p className=\"text-white text-xl font-bold mt-3 text-center\">Informations</p>\r\n                        {/* w-60 ml-10 a été retiré, le texte est centré et utilise la largeur max */}\r\n                        <p className=\"text-white text-sm mt-3 text-center opacity-80 max-w-xs\">\r\n                            - Chaque membre invité doit rejoindre le Telegram pour que son inscription soit comptée.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Timer */}\r\n                    <div className=\"flex flex-col items-center p-3 flex-1 min-w-0 border-y md:border-y-0 md:border-x border-gray-700\">\r\n                        <Clock className=\"w-12 h-12 text-blue-400\"/>\r\n                        <p className=\"text-white text-xl font-bold mt-3\">Timer</p>\r\n                        <p className=\"text-white text-2xl font-bold mt-5 text-center\">\r\n                            {days}j {hours}h {minutes}m {seconds}s\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Contact */}\r\n                    <div className=\"flex flex-col items-center p-3 flex-1 min-w-0\">\r\n                        <Send className=\"w-12 h-12 text-blue-400\"/>\r\n                        <p className=\"text-white text-xl font-bold mt-3\">Contact</p>\r\n\r\n                        <a href=\"URL_TELEGRAM_CONTACT\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"mt-6\">\r\n                            <button className=\"bg-gradient-to-r from-blue-400 to-blue-600 text-white font-semibold px-6 py-3 rounded-2xl shadow-lg hover:from-blue-500 hover:to-blue-700 transition-all duration-300 cursor-pointer w-40 h-12 flex items-center justify-center gap-2\">\r\n                                <Send className=\"w-5 h-5\" />\r\n                                <p className=\"text-lg\">Telegram</p>\r\n                            </button>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            {/* Bouton Déconnexion */}\r\n            <div className=\"mt-12 w-full max-w-6xl px-4 flex justify-center\">\r\n                <button \r\n                    onClick={logout}\r\n                    className=\"bg-gradient-to-r from-red-500 to-red-800 rounded-2xl w-full sm:w-60 h-12 \r\n                    cursor-pointer hover:from-red-600 hover:to-red-900 \r\n                    transform hover:scale-[1.02] transition-all duration-300 \r\n                    flex items-center justify-center gap-2 font-bold text-white text-xl shadow-xl\"\r\n                >\r\n                    <LogOut className=\"w-6 h-6 text-white\"/>\r\n                    Déconnexion\r\n                </button>\r\n            </div>\r\n            \r\n        </div>\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Denis/Desktop/Learning/projectParai/projectparai/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Denis/Desktop/Learning/projectParai/projectparai/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Denis/Desktop/Learning/projectParai/projectparai/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}