{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Denis/Desktop/Learning/AppForRew/src/app/accueil/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Users, Gift, Settings, Info, Clock, Send, LogOut, Twitter } from 'lucide-react';\r\n\r\nconst StatCard = ({ icon: Icon, title, value }) => (\r\n    <div className=\"bg-gray-800 w-full h-80 flex flex-col justify-center items-center rounded-2xl border border-gray-700 shadow-2xl p-4\">\r\n        <Icon className=\"w-16 h-16 text-blue-400\"/>\r\n        <p className=\"text-white text-xl font-bold mt-5 text-center\">{title}</p>\r\n        <p className=\"text-white font-extrabold mt-5\" style={{ fontSize: '3rem' }}>{value}</p>\r\n    </div>\r\n);\r\n\r\n\r\nexport default function Accueil() {\r\n\r\n    const [myclients, setMyclients] = useState(0);\r\n    const [money, setMoney] = useState(0);\r\n    const [parrainage, setParrainage] = useState(\"\");\r\n    const [timeLeft, setTimeLeft] = useState(0);\r\n\r\n\r\n    useEffect(() => {\r\n       const token = localStorage.getItem(\"token\");\r\n     \r\n       if (!token) {\r\n         window.location.href = \"/login\";\r\n       }\r\n     }, []);\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    }\r\n\r\n    const logout = () => {\r\n        window.localStorage.clear();\r\n        window.location.href = \"/login\";\r\n    }\r\n\r\n\r\n      useEffect(() => {\r\n    const fetchProfile = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) return;\r\n\r\n    const res = await fetch(\"http://localhost:5000/getparain\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Authorization\": `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    const data = await res.json();\r\n    if (res.ok) {\r\n      setMyclients(data.invited_count);\r\n      setParrainage(data.referral_code);\r\n      setPsn(data.psn_count);\r\n    } else {\r\n      console.error(data.error);\r\n    }\r\n  };\r\n\r\n  fetchProfile();\r\n}, []);\r\n\r\n    \r\n\r\n  useEffect(() => {\r\n    const targetDate = new Date(\"2025-12-15T00:00:00\").getTime();\r\n\r\n    const interval = setInterval(() => {\r\n      const now = new Date().getTime();\r\n      const difference = targetDate - now;\r\n\r\n      if (difference <= 0) {\r\n        clearInterval(interval);\r\n        setTimeLeft(0);\r\n      } else {\r\n        setTimeLeft(difference);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  \r\n  const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\r\n  const hours = Math.floor((timeLeft / (1000 * 60 * 60)) % 24);\r\n  const minutes = Math.floor((timeLeft / (1000 * 60)) % 60);\r\n  const seconds = Math.floor((timeLeft / 1000) % 60);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"bg-white w-full min-h-screen flex justify-start items-center flex-col pt-10 pb-16 font-sans\">\r\n            \r\n            \r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 w-full max-w-6xl px-4\">\r\n\r\n               \r\n                <StatCard \r\n                    icon={Users}\r\n                    title=\"Personnes invités :\"\r\n                    value={myclients}\r\n                />\r\n\r\n               \r\n                <StatCard \r\n                    icon={Gift}\r\n                    title=\"Money :\"\r\n                    value={money}\r\n                />\r\n\r\n         \r\n                <div className=\"bg-gray-800 w-full h-80 flex flex-col justify-start items-center rounded-2xl border border-gray-700 shadow-2xl p-6\">\r\n                    <Settings className=\"w-16 h-16 text-blue-400 mt-4\"/>\r\n                    <p className=\"text-white text-xl font-bold mt-5\">Mes informations :</p>\r\n                    <p className=\"text-white text-md font-bold mt-5\">Mon code de parrainage :</p>\r\n                    <div className=\"mt-3 bg-stone-900 rounded-lg w-40 flex justify-center h-8 items-center px-4\">\r\n                        <p className=\"text-white font-bold tracking-wider\">{parrainage}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-6xl px-4 mt-6\">\r\n                <div className=\"col-span-1 md:col-span-3 bg-gray-800 w-full flex flex-col md:flex-row justify-around items-stretch rounded-2xl border border-gray-700 shadow-2xl p-6 gap-6\">\r\n                    \r\n                    \r\n                    <div className=\"flex flex-col items-center p-3 flex-1 min-w-0\">\r\n                        <Info className=\"w-12 h-12 text-blue-400\"/>\r\n                        <p className=\"text-white text-xl font-bold mt-3 text-center\">Informations</p>\r\n                        <p className=\"text-white text-sm mt-3 text-center opacity-80 max-w-xs\">\r\n                            - Chaque membre invité doit me follow sur x pour que son inscription soit comptée.\r\n                        </p>\r\n                    </div>\r\n\r\n                    \r\n                    <div className=\"flex flex-col items-center p-3 flex-1 min-w-0 border-y md:border-y-0 md:border-x border-gray-700\">\r\n                        <Clock className=\"w-12 h-12 text-blue-400\"/>\r\n                        <p className=\"text-white text-xl font-bold mt-3\">Timer</p>\r\n                        <p className=\"text-white text-2xl font-bold mt-5 text-center\">\r\n                            {days}j {hours}h {minutes}m {seconds}s\r\n                        </p>\r\n                    </div>\r\n\r\n                    \r\n                    <div className=\"flex flex-col items-center p-3 flex-1 min-w-0\">\r\n                        <Send className=\"w-12 h-12 text-blue-400\"/>\r\n                        <p className=\"text-white text-xl font-bold mt-3\">Contact</p>\r\n\r\n                        <a href=\"https://x.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"mt-6\">\r\n                            <button className=\"bg-gradient-to-r from-blue-400 to-blue-600 text-white font-semibold px-6 py-3 rounded-2xl shadow-lg hover:from-blue-500 hover:to-blue-700 transition-all duration-300 cursor-pointer w-40 h-12 flex items-center justify-center gap-2 hover:scale-105\">\r\n                                <Twitter className=\"w-5 h-5\" />\r\n                                <p className=\"text-lg\">X</p>\r\n                            </button>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            \r\n            <div>\r\n        <button \r\n        onClick={logout}\r\n        className=\"bg-gradient-to-r from-red-400 to-red-900 mt-10 rounded-2xl w-60 h-10 cursor-pointer hover:from-red-500 hover:to-red-950 transform hover:scale-105 transition-all duration-300\">\r\n            <p className=\"font-bold text-white text-xl\">Déconnexion</p>\r\n        </button>\r\n      </div>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":"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"}}]
}